// Responsive reference
// xs: 368px
// sm: 600px
// md: 720px
// lg: 960px
// xl: 1200px


// _Typography

h1,
h2,
h3,
h4,
h5,
h6 {
  font-family: $font-sans;
  line-height: $lh-hed;
  margin-bottom: $grid-105;
  margin-top: $grid-3;
}

p,
li {
  font-size: $sans-s4;
  line-height: $lh-body;

  @media screen and #{$breakpoint-sm}{
    font-size: $sans-s5;
  }
}

p {
  margin: $grid-105 0;
}

li {
  margin-bottom: $grid-1;
}

a {
  border-bottom: 1px solid;
  padding-bottom: 1px;
  text-decoration: none;
  text-decoration-skip: ink;
  text-underline-position: under;
}

[type=password]:focus,
[type=text]:focus,
a:focus,
button:focus,
select:focus,
textarea:focus {
  outline: $grid-05 solid $color-gold-10;
}

hr {
  border-style: none;
  border-bottom: 2px solid;
  margin: $grid-4 0;
}

// Banner

.usa-banner {
  background-color: $color-gray-90;
}

.usa-banner-header {
  color: white;
  padding-bottom: $grid-3;
  padding-top: $grid-1;

  @media screen and #{$breakpoint-xs}{
    padding-bottom: $grid-105;
    padding-top: $grid-1;
  }
  @media screen and #{$breakpoint-sm}{
    padding-bottom: $grid-105;
    padding-top: $grid-105;
  }
  &-expanded {
    background-color: black;
    border-bottom: none;
  }

  .usa-banner-inner img {
    @media screen and #{$breakpoint-sm}{
      margin-top: -2px;
    }
  }
}

.usa-banner-content {
  color: white;
  padding: $grid-105 $grid-2 $grid-1;
}

.usa-banner-button {
  padding-top: $grid-5;
  color: $color-coastal-30;
  &:hover {
    color: $color-coastal-40;
  }
  &:active {
    color: $color-gold-20;
  }

  @media screen and #{$breakpoint-xs}{
    padding-top: 24px;
  }
  @media screen and #{$breakpoint-sm}{
    padding-top: 0;
  }
}

.usa-banner-button,
.usa-banner-header p {
  font-size: $sans-s2;
  line-height: $lh-hed;
}

.usa-banner-icon {
  padding-top: $grid-105;
}

.usa-media_block-body {
  p {
    font-size: $sans-s4;
  }
}

// Body

body {
  background-color: $color-warm-white-3;
}

// Buttons

.usa-button.usa-button-primary-alt,
.usa-button-primary.usa-button-primary-alt,
.usa-button:visited.usa-button-primary-alt,
.usa-button-primary:visited.usa-button-primary-alt,
button.usa-button-primary-alt,
[type=button].usa-button-primary-alt,
[type=submit].usa-button-primary-alt,
[type=reset].usa-button-primary-alt,
[type=image].usa-button-primary-alt {
  background-color: $color-gold-10;
  color: $color-gray-90;
  font-weight: 500;
  &:hover {
    background-color: $color-gold-20;
  }
  &:active {
    background-color: $color-gray-90;
    color: white;
  }
}

// Content

// specificity to override USWDS specificity
#main-content.usa-content {
  @media screen and #{$breakpoint-md}{
    padding-top: $grid-2;
  }
  @media screen and #{$breakpoint-lg}{
    padding-top: $grid-4;
  }
}

// Footer

.usa-footer {
  font-size: $sans-s5;
  @media screen and #{$breakpoint-sm}{
    padding: $grid-1 0 $grid-4;
  }

  h3 {
    font-size: $sans-s5;
  }

  p, li {
    line-height: $lh-body;
  }
}

.usa-footer-secondary_section {
  background-color: transparent;
}

// Header

.usa-logo {
  align-items: center;
  display: flex;
  flex: 1;
}

.usa-logo-text {
  display: inline-block;
  font-weight: 400;
  height: auto;
  padding-bottom: 3px;
}

@media screen and #{$breakpoint-lg} {
  .usa-nav-primary > li > a {
    font-weight: 400;
  }

  .usa-nav-primary a.current-parent span, {
    border-bottom: 0.7rem solid #0071bc;
    padding-bottom: 1rem;
  }
}

.usa-header {
  @media screen and #{$breakpoint-lg} {
    border-bottom: none;
  }
}

.usa-logo-img {
  margin-right: $grid-1;
  width: $grid-2;
  @media screen and #{$breakpoint-md}{
    width: $grid-3;
  }
}

// Home

h2.usa-hero-title {
  font-size: $sans-s8;
  line-height: $lh-hed;
  max-width: 85%;
  @media screen and #{$breakpoint-xs}{
    font-size: $sans-s8;
    max-width: 100%;
  }
  @media screen and #{$breakpoint-sm}{
    font-size: $sans-s9;
    max-width: 80%;
  }
  @media screen and #{$breakpoint-sm}{
    font-size: $sans-s9;
    max-width: none;
  }
  @media screen and #{$breakpoint-lg}{
    font-size: $sans-s8;
    line-height: $lh-cap;
  }
}

section.usa-hero {
  padding: $grid-3 $grid-2;
  background-image: none;
  @media screen and #{$breakpoint-lg}{
    padding: $grid-5 $grid-4;
  }
}

// Main content

main.usa-section {
  padding: 0;
  @media screen and #{$breakpoint-md}{
    padding: 0 ;
  }
  @media screen and #{$breakpoint-lg}{
    padding: $grid-4;
  }
}

.usa-layout-docs-main_content {
  overflow: hidden;
  padding: $grid-3 $grid-2 $grid-3;
  @media screen and #{$breakpoint-md}{
    display: block;
    float: none;
    margin: 0 ;
    order: 2;
    padding-left: 0;
    padding-right: $grid-4;
    width: auto;
  }
  @media screen and #{$breakpoint-lg}{
    padding: $grid-2 0 0 0;
    float: none;
    width: auto;
  }

  &.with-sources {
    padding-bottom: 0;
  }

  p,
  ul,
  ol,
  li {
    font-family: $font-sans;
    font-size: $sans-s4;
    font-weight: 500;
    line-height: $lh-body;
    margin: $grid-2 0;
    @media screen and #{$breakpoint-xs}{
      font-size: $sans-s6;
    }
    @media screen and #{$breakpoint-md}{
      font-size: $sans-s7;
      font-weight: 400;
    }
    strong {
      font-family: $font-sans;
      font-size: $sans-s4;
      @media screen and #{$breakpoint-xs}{
        font-size: $sans-s6;
      }
      @media screen and #{$breakpoint-md}{
        font-size: $sans-s7;
      }
    }
  }

  blockquote {
    border-left: $grid-05 solid $color-warm-white-3;
    margin-left: $grid-1;
    margin-right: $grid-1;
    padding-left: $grid-2;

    p,
    ul,
    ol,
    li {
      font-family: $font-sans;
      font-size: $sans-s3;
      @media screen and #{$breakpoint-xs}{
        font-size: $sans-s5;
      }
      @media screen and #{$breakpoint-md}{
        font-size: $sans-s6;
      }
      strong {
        font-size: $sans-s3;
        @media screen and #{$breakpoint-xs}{
          font-size: $sans-s5;
        }
        @media screen and #{$breakpoint-md}{
          font-size: $sans-s6;
        }
      }
    }
  }

  li {
    margin: $grid-05 0;
  }

  p.usa-font-lead {
    color: $color-secondary;
    font-family: $font-sans;
    font-size: $sans-s6;
    font-weight: 500;
    line-height: $lh-cap;
    margin-bottom: $grid-3;
    @media screen and #{$breakpoint-xs}{
      font-size: $sans-s7;
      margin-bottom: $grid-5;
    }
    @media screen and #{$breakpoint-md}{
      line-height: $lh-body;
      margin-bottom: $grid-6;
    }
  }

  h2 {
    margin-bottom: 0;
  }

  h1,
  h2 {
    & + p {
      margin-top: $grid-1;
      @media screen and #{$breakpoint-lg}{
        margin-top: $grid-105;
      }
    }
    & + p.usa-font-lead {
      margin-top: $grid-105;
    }
  }

  h1 {
    font-size: $sans-s8;
    font-weight: 700;
    @media screen and #{$breakpoint-md}{
      font-size: $sans-s9;
    }
    & + p {
      @media screen and #{$breakpoint-md}{
        margin-top: $grid-4;
      }
    }
  }

  h2 {
    font-size: $sans-s6;
    font-weight: 700;
    margin-bottom: $grid-105;
    margin-top: $grid-5;
    @media screen and #{$breakpoint-lg}{
      margin-bottom: 0;
      font-size: $sans-s7;
    }
  }

  h5 {
    margin-bottom: $grid;
    margin-top: $grid-3;
    + p {
      margin-top: $grid;
    }
  }

  img {
    padding: $grid-2 0;
  }

  .sources {
    background-color: $color-coastal-1;
    font-family: $font-sans;
    margin: $grid-3 $grid-n2 0;
    padding: $grid-2;
    @media screen and #{$breakpoint-xs}{
      margin: $grid-5 $grid-n2 0;
      padding: $grid-4 $grid-2;
    }
    @media screen and #{$breakpoint-lg}{
      margin: $grid-5 0 0;
      padding: $grid-4;
    }

    h2 {
      font-weight: 200;
      margin-top: 0;
    }
  }

  ul.sources-collection {
    list-style-type: none;
    margin-bottom: 0;
    padding: 0 0 $grid-1;
  }

  li.sources-source {
    border-top: 1px solid $color-primary;
    font-family: $font-sans;
    font-size: $sans-s3;
    font-weight: 500;
    margin: 8px 0 0;
    padding: 8px 0 0;
    @media screen and #{$breakpoint-lg}{
      font-size: $sans-s4;
    }
  }
}

table {
  td {
    font-family: $font-sans;
    font-size: $sans-s4;
    line-height: $lh-body;
    margin: $grid-2 0;
    vertical-align: top;
    @media screen and #{$breakpoint-xs}{
      font-size: $sans-s4;
    }
    @media screen and #{$breakpoint-md}{
      font-size: $sans-s5;
      font-weight: 300;
    }
    strong {
      font-family: $font-sans;
      font-size: $sans-s4;
      @media screen and #{$breakpoint-xs}{
        font-size: $sans-s4;
      }
      @media screen and #{$breakpoint-md}{
        font-size: $sans-s5;
      }
    }
  }
}

.usa-layout-docs {
  @media screen and #{$breakpoint-md}{
    display: inherit;
  }
}

.usa-content p:not(.usa-font-lead),
.usa-content ul:not(.usa-accordion):not(.usa-accordion-bordered),
.usa-content ol:not(.usa-accordion):not(.usa-accordion-bordered) {
  max-width: 35em;
}

// Side navigation

.usa-layout-docs-sidenav {
  @media screen and #{$breakpoint-md}{
    display: block;
    float: right;
    margin: 0;
    order: 1;
    padding-right: $grid-2;
    padding-top: $grid-2;
    width: 30%;
  }
  @media screen and #{$breakpoint-md}{
    padding-left: $grid-7;
    padding-top: $grid-4;
  }
}

h3.usa-sidenav-title {
  font-size: $sans-s4;
  padding-bottom: $grid-05;
  padding-left: $grid-2;
  padding-top: $grid-2;
  @media screen and #{$breakpoint-lg}{
    padding-left: 0;
    padding-top: 0;
  }
}

// specificity to override UDWDS
.usa-content .usa-layout-docs-sidenav ul.usa-sidenav-list {
  max-width: none;
}

.usa-sidenav-list {
  border-bottom: 1px solid $color-primary;
  @media screen and #{$breakpoint-lg}{
    border-bottom: none;
  }

  & > li {
    border-top: 1px solid $color-primary;
    font-size: $sans-s4;

    @media screen and #{$breakpoint-sm}{
      font-size: $sans-s5;
    }
    @media screen and #{$breakpoint-lg}{
      font-size: $sans-s4;
    }
  }
  & > li:first-child {
    border-top : 1px solid $color-primary;
  }
  a {
    color: $color-primary;
    line-height: $lh-cap;
    padding: $grid-105 $grid-2;
    @media screen and #{$breakpoint-lg}{
      padding: $grid-105 $grid-2 $grid-105 0;
    }
  }
  a.usa-current {
    padding-left: $grid-2;
    border-left: none;
  }
  a.current-parent {
    color: $color-gray-90;
    font-weight: 700;
    padding-bottom: $grid;
    @media screen and #{$breakpoint-lg}{
      padding-left: 0;
    }
  }
}

.usa-sidenav-sub_list {
  padding-bottom: 8px;
  li {
    font-size: $sans-s4;
    font-weight: 200;
    @media screen and #{$breakpoint-sm}{
      font-size: $sans-s5;
    }
    @media screen and #{$breakpoint-md}{
      font-size: $sans-s4;
    }
  }
  a {
    padding-bottom: $grid;
    padding-left: $grid-2;
    padding-top: $grid;
    @media screen and #{$breakpoint-lg}{
      padding-left: 0;
    }
    &:hover {
      @media screen and #{$breakpoint-lg}{
        padding-left: 0;
      }
    }
  }
  a.usa-current {
    padding-left: $grid-2;
    @media screen and #{$breakpoint-lg}{
      padding-left: 0;
    }
  }
  //Odd case here — seems like an error in layout
  .usa-sidenav-sub_list {
    padding-bottom: 0;
  }
}

// Top nav

.usa-logo {
  line-height: $lh-single;
  @media screen and #{$breakpoint-lg}{
    bottom: auto;
    position: relative;
  }
}

.usa-logo-text {
  align-items: center;
  display: flex;
  flex-direction: row;
  font-size: $sans-s6;
  font-weight: 200;
  height: $grid-6;
  line-height: 1;
  @media screen and #{$breakpoint-xs}{
    font-size: $sans-s7;
    height: $grid-7;
  }
  @media screen and #{$breakpoint-sm}{
    font-size: $sans-s8;
    height: $grid-7;
  }
  @media screen and #{$breakpoint-lg}{
    font-size: $sans-s8;
    height: auto;
  }
}

.usa-menu-btn {
  border-radius: 2px;
  height: $grid-4;
  line-height: $lh-single;
  margin: $grid-1;
  width: $grid-7;
  @media screen and #{$breakpoint-xs}{
    height: $grid-5;
  }
}

.usa-navbar {
  align-items: center;
  display: flex;
  flex-direction: row-reverse;  border-bottom: none;
  height: $grid-6;
  @media screen and #{$breakpoint-xs}{
    height: $grid-7;
  }
  @media screen and #{$breakpoint-lg}{
    height: auto;
  }
}

.usa-nav {
  @media screen and #{$breakpoint-lg}{
    background-color: transparent;
    flex: 1;
    float: none;
    margin-right: $grid-n1;
    padding: 0;
  }
}

.usa-nav-primary {
  @media screen and #{$breakpoint-lg}{
    display: block;
    padding-top: $grid-1;
    text-align: right;
  }
  > li > a {
    @media screen and #{$breakpoint-lg}{
      color: $color-gray-90;
      font-size: $sans-s4;
      font-weight: 500;
      padding: $grid-105;
      line-height: $lh-single;
    }
  }
  a.current-parent span {
    @media screen and #{$breakpoint-lg}{
      border-color: $color-primary;
    }
  }
  a.usa-current {
    color: $color-gray-90;
    font-weight: 500;
  }
}

.usa-nav-container {
  @media screen and #{$breakpoint-lg}{
    align-items: center;
    display: flex;
    line-height: $lh-single;
    padding: $grid-5 $grid-4 $grid-3;
  }
}

.usa-header-basic {
  background-color: white;

  .usa-logo {
    @media screen and #{$breakpoint-lg}{
      bottom: auto;
      position: relative;
    }
  }
  .usa-navbar {
    @media screen and #{$breakpoint-lg}{
      width: auto;
    }
  }
}
